<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:section name="List">
  <div id="c{contentObjectData.uid}" class="u-container">

    <div class="u-limitWidth-7 u-align-center u-stack-lg">
      <f:render partial="Header/Header" arguments="{header: contentObjectData.header,layout: contentObjectData.header_layout}"/>

      <f:for each="{news}" as="newsItem">
        <article class="NewsList-item">
          <f:render section="Teaser" arguments="{newsItem:newsItem,settings:settings}"/>
        </article>
      </f:for>

      <f:if condition="{settings.listPid}">
        <f:if condition="{f:uri.page(pageUid: settings.listPid)}">
          <div class="u-textAlign--right">
            <f:link.page pageUid="{settings.listPid}" class="Button">Alle Nachrichten</f:link.page>
          </div>
        </f:if>
      </f:if>

    </div>
  </div>
</f:section>

<f:section name="Teaser">

  <div class="u-stack-sm">

    <header>
      <p class="Text-body Text-body--small">
        <f:if condition="{newsItem.datetime}">
        <span class="NewsTeaser-date Base-h-sub">
          <f:format.date format="%d.%m.%Y">{newsItem.datetime}</f:format.date>
        </span>
        </f:if>
      </p>

      <h3 class="Text-heading-lg">
        <f:format.htmlentitiesDecode>{newsItem.title}</f:format.htmlentitiesDecode>
      </h3>
    </header>

    <f:if condition="{newsItem.teaser}">
      <p class="Text-body">
        <f:format.htmlentitiesDecode>{newsItem.teaser}</f:format.htmlentitiesDecode>
      </p>
    </f:if>

    <p class="Text-body">

      <n:link newsItem="{newsItem}" settings="{detailPid:settings.detailPid}" class="Link">
        Zur Nachricht
      </n:link>
    </p>

  </div>

</f:section>


</html>
