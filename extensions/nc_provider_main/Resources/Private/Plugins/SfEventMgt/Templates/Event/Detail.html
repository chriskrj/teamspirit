<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:e="http://typo3.org/ns/DERHANSEN/SfEventMgt/ViewHelpers"
      xmlns:nc="http://typo3.org/ns/NC/NcProviderMain/ViewHelpers"
      xmlns:schema="http://typo3.org/ns/Brotkrueml/Schema/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:layout name="Default"/>

<f:section name="main">

  <f:if condition="{event}">

    <nc:titleTag>
      <f:format.htmlentitiesDecode>{event.title}</f:format.htmlentitiesDecode>
    </nc:titleTag>

    <nc:metaTag property="og:title" content="{event.title->f:format.htmlentitiesDecode()}"/>
    <nc:metaTag property="og:description" content="{event.description->f:format.stripTags()}"/>
    <nc:metaTag name="description" content="{event.description->f:format.stripTags()}"/>

    <f:render partial="Schema" section="Schema" arguments="{event: event, settings: settings}"/>

    <article>
      <div class="u-container u-my-fluid-3xl">

        <div class="u-limitWidth-12 u-align-center u-stack-xl">
          <h1 class="Text-heading-4xl">
            <f:format.htmlentitiesDecode>{event.title}</f:format.htmlentitiesDecode>
          </h1>

          <div id="maincontent" class="GridCol2MainAside-row u-row">
            <div class="GridCol2MainAside-colAside u-col ">

              <div class="u-stack-lg u-bg-accent u-pa-md">

                <f:render partial="EventFacts" section="Default" arguments="{event:event}"/>

                <f:if condition="{event.link}">
                  <div>
                    <f:link.typolink class="Button" parameter="{event.link}">Externe Anmeldung</f:link.typolink>
                  </div>
                </f:if>

                <f:if condition="{event.registrationPossible}">
                  <f:if condition="{settings.registrationPid} !=''">
                    <div>
                      <f:link.action action="registration" arguments="{event : event}" pageUid="{settings.registrationPid}" class="Button">
                        Anmelden zur Veranstaltung
                      </f:link.action>
                    </div>
                  </f:if>
                </f:if>

              </div>
            </div>
            <div class="GridCol2MainAside-colMain GridCol2MainAside--colOrderLeft u-col">
              <div class="u-stack-md">
                <p class="Text-body">
                  <f:format.htmlentitiesDecode>{event.teaser}</f:format.htmlentitiesDecode>
                </p>
                <div class="RTE u-stack-text">
                  <f:format.html>{event.description}</f:format.html>
                </div>
                <nav class="Text-body">
                  <f:link.page class="Link" pageUid="{settings.listPid}"><span class="Link-icon"><f:render partial="Base/Symbols" section="Symbol" arguments="{name:'arrow-left'}"/></span>{f:translate(key: 'event.backlink.label', extensionName: 'nc_provider_main')}</f:link.page>
                </nav>
              </div>
            </div>

          </div>

        </div>

      </div>
    </article>
  </f:if>


</f:section>


</html>
