<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:schema="https://typo3.org/ns/Brotkrueml/Schema/ViewHelpers"
      data-namespace-typo3-fluid="true">

<f:section name="Schema">
  <schema:type.event
    -isMainEntityOfWebPage="1"
    startDate="{f:format.date(format:'Y-m-d', date: event.startdate)}"
    endDate="{f:format.date(format:'Y-m-d', date: event.enddate)}"
    name="{event.eventNumber} â€“ {event.title}"
    description="{event.description -> f:format.raw()}"
    eventStatus="https://schema.org/EventScheduled"
  >
    <schema:type.place
      -as="location"
      name="{event.location.title}"
    >
      <schema:type.postalAddress
        -as="address"
        name="{event.location.title}"
        streetAddress="{event.location.address}"
        addressLocality="{event.location.city}"
        postalCode="{event.location.zip}"
        addressCountry="{event.location.country}">
      </schema:type.postalAddress>
    </schema:type.place>
    <schema:type.offer
      -as="offers"
      availabilityStarts="{f:format.date(format:'Y-m-dTh:m', date: event.registrationStartdate)}"
      availabilityEnds="{f:format.date(format:'Y-m-dTh:m', date: event.registrationDeadline)}"
      availability="https://schema.org/InStock"
      url="{f:uri.action(action:'registration', arguments: '{event : event}', pageUid: '{settings.registrationPid}', absolute: '1')}"
      price="{event.currentPrice}"
      priceCurrency="{f:if(condition: '{event.currency} == Euro', then: 'EUR', else: '{event.currency}')}"
    ></schema:type.offer>
    <schema:type.organization
      -as="organizer"
      name="{event.organisator.name}"
      sameAs="{event.organisator.link}"
      url="{event.organisator.link}"
      logo="{f:uri.image(src: '/apple-touch-icon.png', absolute:1)}">
    </schema:type.organization>
  </schema:type.event>

</f:section>
</html>
