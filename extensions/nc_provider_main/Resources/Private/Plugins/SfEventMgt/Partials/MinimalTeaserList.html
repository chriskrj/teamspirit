<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:nc="http://typo3.org/ns/NC/NcProviderMain/ViewHelpers"
      data-namespace-typo3-fluid="true">


<f:section name="List">
  <f:for each="{events}" as="event">
    <article class="EventList-item">
      <f:render section="Teaser" arguments="{event:event,settings:settings}"/>
    </article>
  </f:for>
</f:section>

<f:section name="Teaser">

  <div class="u-stack-sm">

    <header>
      <p class="Text-body Text-body--small">
        <f:if condition="{nc:sameDay(endDate: event.enddate, startDate: event.startdate)}">
          <f:then>
            <f:format.date format="{f:translate(key: 'format.date', extensionName: 'nc_provider_main')}">{event.startdate}</f:format.date>
          </f:then>
          <f:else>
            <f:format.date format="{f:translate(key: 'format.date', extensionName: 'nc_provider_main')}">{event.startdate}</f:format.date>
            â€“
            <f:format.date format="{f:translate(key: 'format.date', extensionName: 'nc_provider_main')}">{event.enddate}</f:format.date>
          </f:else>
        </f:if>
        <f:if condition="{event.location}">
          <span> / {event.location.title}</span>
        </f:if>
        <span> / <f:render partial="EventType" section="Label" arguments="{event:event}"/></span>
        <f:if condition="{event.category}">
          <span> / <f:render partial="EventCategory" section="Label" arguments="{event:event}"/></span>
        </f:if>
      </p>

      <h3 class="Text-heading-lg">
        <f:format.htmlentitiesDecode>{event.title}</f:format.htmlentitiesDecode>
      </h3>
    </header>

    <f:if condition="{event.teaser}">
      <p class="Text-body">
        <f:format.htmlentitiesDecode>{event.teaser}</f:format.htmlentitiesDecode>
      </p>
    </f:if>

    <p class="Text-body">
      <f:link.action action="detail" arguments="{event : event}" pageUid="{settings.detailPid}" class="Link">
        {f:translate(key: 'event.detaillink.label', extensionName: 'nc_provider_main')}
      </f:link.action>
    </p>

  </div>


</f:section>

</html>
